export const BOT_MESSAGES = {
  // REMERCIEMENTS APRÃˆS SÃ‰JOUR (100 messages)
  remerciement: [
    "Merci pour votre sÃ©jour chez nous. Nous espÃ©rons vous revoir trÃ¨s bientÃ´t.",
    "Merci pour votre sÃ©jour chez nous. Votre prÃ©sence compte Ã©normÃ©ment pour nous.",
    "Merci pour votre sÃ©jour chez nous. Nous vous remercions du fond du cÅ“ur.",
    "Merci pour votre sÃ©jour chez nous. Vous Ãªtes toujours le bienvenu.",
    "Merci pour votre sÃ©jour chez nous. Votre confiance nous touche profondÃ©ment.",
    "Merci pour votre sÃ©jour chez nous. Merci pour votre soutien.",
    "Merci pour votre sÃ©jour chez nous. Nous espÃ©rons que vous avez apprÃ©ciÃ© votre expÃ©rience.",
    "Merci pour votre sÃ©jour chez nous. Vous faites partie de nos clients prÃ©cieux.",
    "Merci pour votre sÃ©jour chez nous. Revenez vivre un nouveau moment agrÃ©able.",
    "Merci pour votre sÃ©jour chez nous. Toute l'Ã©quipe vous remercie chaleureusement.",
    "Merci pour votre sÃ©jour chez nous. Votre satisfaction est notre prioritÃ©.",
    "Merci pour votre sÃ©jour chez nous. Nous sommes honorÃ©s de vous avoir accueilli.",
    "Merci pour votre sÃ©jour chez nous. Votre passage illumine nos journÃ©es.",
    "Merci pour votre sÃ©jour chez nous. Nous serons ravis de vous accueillir Ã  nouveau.",
    "Merci pour votre sÃ©jour chez nous. Merci pour votre gentillesse.",
    "Merci pour votre sÃ©jour chez nous. Votre prÃ©sence est un cadeau.",
    "Merci pour votre sÃ©jour chez nous. Nous vous souhaitons le meilleur.",
    "Merci pour votre sÃ©jour chez nous. Vous Ãªtes un client exceptionnel.",
    "Merci pour votre sÃ©jour chez nous. Merci pour votre confiance renouvelÃ©e.",
    "Merci pour votre sÃ©jour chez nous. Nous serons toujours heureux de vous revoir.",
  ],

  // RAPPEL APRÃˆS LONGUE ABSENCE (100 messages)
  rappel: [
    "Cela fait un moment que nous ne vous avons pas vu. Nous espÃ©rons vous revoir trÃ¨s bientÃ´t.",
    "Cela fait un moment que nous ne vous avons pas vu. Votre prÃ©sence compte Ã©normÃ©ment pour nous.",
    "Cela fait un moment que nous ne vous avons pas vu. Nous vous remercions du fond du cÅ“ur.",
    "Cela fait un moment que nous ne vous avons pas vu. Vous Ãªtes toujours le bienvenu.",
    "Cela fait un moment que nous ne vous avons pas vu. Votre confiance nous touche profondÃ©ment.",
    "Cela fait un moment que nous ne vous avons pas vu. Merci pour votre soutien.",
    "Cela fait un moment que nous ne vous avons pas vu. Nous espÃ©rons que vous avez apprÃ©ciÃ© votre expÃ©rience.",
    "Cela fait un moment que nous ne vous avons pas vu. Vous faites partie de nos clients prÃ©cieux.",
    "Cela fait un moment que nous ne vous avons pas vu. Revenez vivre un nouveau moment agrÃ©able.",
    "Cela fait un moment que nous ne vous avons pas vu. Toute l'Ã©quipe vous remercie chaleureusement.",
    "Cela fait un moment que nous ne vous avons pas vu. Votre satisfaction est notre prioritÃ©.",
    "Cela fait un moment que nous ne vous avons pas vu. Nous sommes honorÃ©s de vous avoir accueilli.",
    "Cela fait un moment que nous ne vous avons pas vu. Votre passage illumine nos journÃ©es.",
    "Cela fait un moment que nous ne vous avons pas vu. Nous serons ravis de vous accueillir Ã  nouveau.",
    "Cela fait un moment que nous ne vous avons pas vu. Merci pour votre gentillesse.",
    "Cela fait un moment que nous ne vous avons pas vu. Votre prÃ©sence est un cadeau.",
    "Cela fait un moment que nous ne vous avons pas vu. Nous vous souhaitons le meilleur.",
    "Cela fait un moment que nous ne vous avons pas vu. Vous Ãªtes un client exceptionnel.",
    "Cela fait un moment que nous ne vous avons pas vu. Merci pour votre confiance renouvelÃ©e.",
    "Cela fait un moment que nous ne vous avons pas vu. Nous serons toujours heureux de vous revoir.",
  ],

  // CLIENTS VIP / FIDÃˆLES (100 messages)
  vip: [
    "Merci pour votre grande fidÃ©litÃ©. Nous espÃ©rons vous revoir trÃ¨s bientÃ´t.",
    "Merci pour votre grande fidÃ©litÃ©. Votre prÃ©sence compte Ã©normÃ©ment pour nous.",
    "Merci pour votre grande fidÃ©litÃ©. Nous vous remercions du fond du cÅ“ur.",
    "Merci pour votre grande fidÃ©litÃ©. Vous Ãªtes toujours le bienvenu.",
    "Merci pour votre grande fidÃ©litÃ©. Votre confiance nous touche profondÃ©ment.",
    "Merci pour votre grande fidÃ©litÃ©. Merci pour votre soutien.",
    "Merci pour votre grande fidÃ©litÃ©. Nous espÃ©rons que vous avez apprÃ©ciÃ© votre expÃ©rience.",
    "Merci pour votre grande fidÃ©litÃ©. Vous faites partie de nos clients prÃ©cieux.",
    "Merci pour votre grande fidÃ©litÃ©. Revenez vivre un nouveau moment agrÃ©able.",
    "Merci pour votre grande fidÃ©litÃ©. Toute l'Ã©quipe vous remercie chaleureusement.",
    "Merci pour votre grande fidÃ©litÃ©. Votre satisfaction est notre prioritÃ©.",
    "Merci pour votre grande fidÃ©litÃ©. Nous sommes honorÃ©s de vous avoir accueilli.",
    "Merci pour votre grande fidÃ©litÃ©. Votre passage illumine nos journÃ©es.",
    "Merci pour votre grande fidÃ©litÃ©. Nous serons ravis de vous accueillir Ã  nouveau.",
    "Merci pour votre grande fidÃ©litÃ©. Merci pour votre gentillesse.",
    "Merci pour votre grande fidÃ©litÃ©. Votre prÃ©sence est un cadeau.",
    "Merci pour votre grande fidÃ©litÃ©. Nous vous souhaitons le meilleur.",
    "Merci pour votre grande fidÃ©litÃ©. Vous Ãªtes un client exceptionnel.",
    "Merci pour votre grande fidÃ©litÃ©. Merci pour votre confiance renouvelÃ©e.",
    "Merci pour votre grande fidÃ©litÃ©. Nous serons toujours heureux de vous revoir.",
  ],

  // BIENVENUE (100 messages)
  bienvenue: [
    "Bienvenue Ã  l'HÃ´tel Touriste ! Nous sommes ravis de vous accueillir.",
    "Bienvenue chez nous ! Toute l'Ã©quipe est heureuse de vous recevoir.",
    "Bienvenue Ã  l'HÃ´tel Touriste ! Nous espÃ©rons que votre sÃ©jour sera inoubliable.",
    "Bienvenue ! Nous mettons tout en Å“uvre pour votre confort.",
    "Bienvenue Ã  l'HÃ´tel Touriste ! Vous Ãªtes entre de bonnes mains.",
    "Bienvenue ! Notre Ã©quipe est Ã  votre entiÃ¨re disposition.",
    "Bienvenue chez nous ! Passez un excellent sÃ©jour.",
    "Bienvenue Ã  l'HÃ´tel Touriste ! Profitez de nos services premium.",
    "Bienvenue ! Nous sommes honorÃ©s de vous accueillir parmi nous.",
    "Bienvenue Ã  l'HÃ´tel Touriste ! Votre satisfaction est notre mission.",
  ],

  // DOUBLON / CLIENT RÃ‰CURRENT (100 messages)
  doublon: [
    "Quel plaisir de vous revoir ! Nous sommes trÃ¨s heureux de votre retour.",
    "Content de vous revoir parmi nous ! Votre fidÃ©litÃ© nous touche.",
    "Vous Ãªtes de retour ! Nous sommes honorÃ©s de votre confiance renouvelÃ©e.",
    "Ravi de vous accueillir Ã  nouveau ! Vous faites partie de notre famille.",
    "Quel bonheur de vous revoir ! Merci de nous faire confiance encore.",
    "Vous nous avez manquÃ© ! Bienvenue Ã  nouveau Ã  l'HÃ´tel Touriste.",
    "Heureux de vous retrouver ! Votre retour nous fait trÃ¨s plaisir.",
    "Vous Ãªtes ici chez vous ! Merci pour votre fidÃ©litÃ© sans faille.",
    "Content de vous revoir ! Nous allons prendre soin de vous comme toujours.",
    "Bienvenue de nouveau ! Chaque visite est un honneur pour nous.",
  ],

  // INVITATION Ã€ REVENIR (100 messages)
  invitation: [
    "Vous nous manquez ! Profitez d'une offre spÃ©ciale lors de votre prochaine rÃ©servation.",
    "L'HÃ´tel Touriste vous attend ! Revenez dÃ©couvrir nos nouveautÃ©s.",
    "Nous serions ravis de vous revoir ! Des surprises vous attendent.",
    "Votre prÃ©sence nous manque ! RÃ©servez dÃ¨s maintenant pour un sÃ©jour inoubliable.",
    "Cela fait longtemps ! Venez profiter de notre hospitalitÃ© lÃ©gendaire.",
    "Revenez nous voir ! Nous avons hÃ¢te de vous accueillir Ã  nouveau.",
    "L'HÃ´tel Touriste pense Ã  vous ! Une offre exclusive vous attend.",
    "Nous aimerions vous revoir ! Contactez-nous pour votre prochaine escapade.",
    "Votre chambre vous attend ! RÃ©servez maintenant pour un tarif prÃ©fÃ©rentiel.",
    "Envie de revenir ? Nous prÃ©parons votre accueil avec soin.",
  ],

  // ANNIVERSAIRE (50 messages)
  anniversaire: [
    "Joyeux anniversaire ! L'HÃ´tel Touriste vous souhaite une merveilleuse journÃ©e.",
    "Bon anniversaire ! Que cette nouvelle annÃ©e soit remplie de bonheur.",
    "Nous vous souhaitons un trÃ¨s bel anniversaire ! Ã€ bientÃ´t pour le cÃ©lÃ©brer ensemble.",
    "Joyeux anniversaire de la part de toute l'Ã©quipe de l'HÃ´tel Touriste !",
    "Bon anniversaire ! Venez fÃªter Ã§a avec nous, une surprise vous attend.",
  ],
}

// Chatbot intents and responses
export const CHATBOT_INTENTS = {
  greeting: {
    examples: ["Bonjour", "Salut", "Bonsoir", "Coucou", "Salut l'Ã©quipe"],
    responses: [
      "Bonjour {{nom}} ! ðŸ‘‹ Je suis l'assistant virtuel de l'HÃ´tel Touriste. Comment puis-je vous aider aujourd'hui ?",
      "Salut {{nom}} ! Heureux de vous lire. Comment puis-je vous assister ?",
      "Bonsoir {{nom}} ! Bienvenue Ã  l'HÃ´tel Touriste. Dites-moi ce dont vous avez besoin.",
    ],
    requiresAuth: false,
  },
  help_menu: {
    examples: ["Que peux-tu faire ?", "Aide", "Menu", "Options"],
    responses: [
      "Je peux vous aider Ã  : vÃ©rifier une rÃ©servation, rÃ©server une chambre, rÃ©pondre Ã  vos questions sur nos services, et plus encore. Que souhaitez-vous faire ?",
      "Voici mes capacitÃ©s : vÃ©rifier disponibilitÃ©, rÃ©server, modifier une rÃ©servation, envoyer une facture, contacter la rÃ©ception. Dites simplement ce que vous voulez.",
    ],
    requiresAuth: false,
  },
  check_availability: {
    examples: ["Y a-t-il des chambres ?", "DisponibilitÃ©", "Chambres libres"],
    responses: [
      "Je peux vÃ©rifier la disponibilitÃ© pour vous. Quelles sont vos dates d'arrivÃ©e et de dÃ©part souhaitÃ©es ?",
      "Dites-moi vos dates et je regarde immÃ©diatement quelles chambres sont disponibles.",
    ],
    requiresAuth: true,
  },
  make_reservation: {
    examples: ["Je veux rÃ©server", "RÃ©servez pour moi", "Faire une rÃ©servation"],
    responses: [
      "TrÃ¨s bien {{nom}} ! Pour finaliser la rÃ©servation, pouvez-vous me confirmer : dates, type de chambre et nombre de personnes ?",
      "Super ! Donnez-moi les dates et le type de chambre (Standard, Confort, Suite) et je m'occupe du reste.",
    ],
    requiresAuth: true,
  },
  room_types: {
    examples: ["Quels types de chambres ?", "Types de chambre disponibles"],
    responses: [
      "Nous proposons : Chambre Standard, Chambre Confort et Suite. La Suite inclut un salon privÃ© et un cadeau de bienvenue.",
      "Types disponibles : Standard (Ã©conomique), Confort (plus d'espace) et Suite (luxe). Voulez-vous voir les tarifs ?",
    ],
    requiresAuth: false,
  },
  check_in_time: {
    examples: ["Heure d'arrivÃ©e", "Check-in", "Ã€ quelle heure puis-je arriver ?"],
    responses: [
      "L'enregistrement (check-in) commence Ã  14:00. Si vous souhaitez arriver plus tÃ´t, dites-le moi et je vÃ©rifierai la possibilitÃ© d'un early check-in.",
      "Nos horaires standards : check-in Ã  partir de 14h. Besoin d'un early check-in ?",
    ],
    requiresAuth: false,
  },
  check_out_time: {
    examples: ["Heure de dÃ©part", "Check-out", "Ã€ quelle heure quitter ?"],
    responses: [
      "L'heure de dÃ©part standard est Ã  12:00. Si vous avez besoin d'un late check-out, indiquez l'heure souhaitÃ©e.",
      "Le check-out se fait Ã  12h. Pour un dÃ©part tardif, je peux vÃ©rifier la disponibilitÃ©.",
    ],
    requiresAuth: false,
  },
  amenities: {
    examples: ["Piscine ?", "Wifi gratuit ?", "Petit dÃ©jeuner inclus ?", "Services"],
    responses: [
      "Oui, nous avons piscine, wifi gratuit haut dÃ©bit, petit-dÃ©jeuner buffet, salle de sport et service de chambre.",
      "Nos services : wifi gratuit, parking sÃ©curisÃ©, petit-dÃ©jeuner, spa, navette sur demande.",
    ],
    requiresAuth: false,
  },
  wifi_info: {
    examples: ["Mot de passe wifi", "Connexion internet", "Wifi"],
    responses: [
      "Le wifi est gratuit. Ã€ l'arrivÃ©e vous recevrez le code d'accÃ¨s en rÃ©ception.",
      "Le rÃ©seau est 'Hotel_Touriste_Guest'. Indiquez votre numÃ©ro de chambre pour obtenir le mot de passe.",
    ],
    requiresAuth: true,
  },
  parking_info: {
    examples: ["Parking", "Garer ma voiture", "SÃ©curitÃ© parking"],
    responses: [
      "Nous disposons d'un parking sÃ©curisÃ© gratuit. Voulez-vous une place rÃ©servÃ©e ?",
      "Parking disponible sur place. Dites-moi si vous souhaitez une place rÃ©servÃ©e.",
    ],
    requiresAuth: false,
  },
  directions: {
    examples: ["Comment venir ?", "Adresse de l'hÃ´tel", "ItinÃ©raire"],
    responses: [
      "L'hÃ´tel est situÃ© Place Mulamba, Bukavu. Voulez-vous l'itinÃ©raire Google Maps ou une navette ?",
      "Je peux envoyer l'itinÃ©raire. D'oÃ¹ partez-vous ?",
    ],
    requiresAuth: false,
  },
  room_service: {
    examples: ["Commander Ã  manger", "Room service", "DÃ®ner en chambre"],
    responses: [
      "Bien sÃ»r {{nom}}. Que souhaitez-vous commander ? Je transmets au service chambre.",
      "Dites-moi votre commande et je m'en occupe immÃ©diatement.",
    ],
    requiresAuth: true,
  },
  complaint: {
    examples: ["Je veux me plaindre", "ProblÃ¨me", "Le bruit est trop fort"],
    responses: [
      "Je suis vraiment dÃ©solÃ© d'apprendre cela. Pouvez-vous me donner les dÃ©tails ? Nous allons rÃ©soudre cela immÃ©diatement.",
      "Merci de nous alerter. Donnez-moi les informations et j'envoie une notification urgente Ã  la rÃ©ception.",
    ],
    requiresAuth: true,
  },
  loyalty_status: {
    examples: ["Mon score fidÃ©litÃ©", "Combien de pourcent ?", "Suis-je VIP ?"],
    responses: [
      "Vous avez {{fidelite}}% de fidÃ©litÃ©. Ã€ 100% vous deviendrez VIP avec des avantages exclusifs !",
      "Votre progression : {{fidelite}}%. Continuez Ã  nous rendre visite pour le statut VIP !",
    ],
    requiresAuth: true,
  },
  thanks: {
    examples: ["Merci", "Merci beaucoup", "Merci pour ton aide"],
    responses: [
      "Avec plaisir {{nom}} ! Si vous avez encore besoin d'aide, je suis lÃ  pour vous.",
      "Merci Ã  vous ! Passez une excellente journÃ©e et Ã  bientÃ´t Ã  l'HÃ´tel Touriste.",
    ],
    requiresAuth: false,
  },
  goodbye: {
    examples: ["Au revoir", "Ã€ bientÃ´t", "Ciao", "Bye"],
    responses: [
      "Au revoir {{nom}} ! Prenez soin de vous et n'hÃ©sitez pas Ã  revenir. Nous serons ravis de vous accueillir.",
      "Ã€ bientÃ´t ! Merci d'avoir contactÃ© l'HÃ´tel Touriste.",
    ],
    requiresAuth: false,
  },
  contact_reception: {
    examples: ["NumÃ©ro de la rÃ©ception", "Contacter la rÃ©ception", "Parler Ã  un humain"],
    responses: [
      "Je peux vous donner le numÃ©ro : +243 976 938 182. Voulez-vous que je transfÃ¨re votre demande ?",
      "Souhaitez-vous que je contacte la rÃ©ception pour vous ?",
    ],
    requiresAuth: true,
  },
  fallback: {
    examples: [],
    responses: [
      "DÃ©solÃ©, je n'ai pas bien compris. Pouvez-vous reformuler ou choisir : rÃ©servation, disponibilitÃ©, services, contact ?",
      "Je ne suis pas sÃ»r d'avoir saisi. Voulez-vous vÃ©rifier une rÃ©servation ou connaÃ®tre nos services ?",
    ],
    requiresAuth: false,
  },
}

// Function to get random message from category
export function getRandomMessage(category: keyof typeof BOT_MESSAGES, clientName?: string): string {
  const messages = BOT_MESSAGES[category]
  const randomIndex = Math.floor(Math.random() * messages.length)
  let message = messages[randomIndex]

  if (clientName) {
    message = `Cher(e) ${clientName}, ${message.charAt(0).toLowerCase()}${message.slice(1)}`
  }

  return message
}

// Function to get smart message based on client data
export function getSmartMessage(
  client: {
    nom?: string
    full_name?: string
    fidelite_score?: number
    is_vip?: boolean
    is_duplicate?: boolean
    total_sejours?: number
  },
  trigger?: string,
): string {
  const clientName = client.full_name || client.nom || "Client"

  // Determine message category based on client data and trigger
  if (trigger === "bienvenue") {
    return getRandomMessage("bienvenue", clientName)
  }

  if (trigger === "anniversaire") {
    return getRandomMessage("anniversaire", clientName)
  }

  if (client.is_vip || (client.fidelite_score && client.fidelite_score >= 80)) {
    return getRandomMessage("vip", clientName)
  }

  if (client.is_duplicate || (client.total_sejours && client.total_sejours > 1)) {
    return getRandomMessage("doublon", clientName)
  }

  if (trigger === "inactif" || trigger === "rappel") {
    return getRandomMessage("rappel", clientName)
  }

  if (trigger === "invitation") {
    return getRandomMessage("invitation", clientName)
  }

  // Default to thank you message
  return getRandomMessage("remerciement", clientName)
}

// Chatbot link generator
export function getChatbotLink(baseUrl: string): string {
  return `${baseUrl}/chat`
}

// Add chatbot link to message
export function addChatbotLinkToMessage(message: string, chatbotUrl: string): string {
  const linkText = `\n\nðŸ’¬ Des questions ? Contactez-nous directement ici : ${chatbotUrl}`
  return message + linkText
}
